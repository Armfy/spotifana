<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Spoti'stat</title>
  </head>
  <body>
    <header>
      <h1>les musiques du Marill</h1>
      <p>je n'ai pas d'inspi pour le sous titre, de toute façon vous savez ce qui vas y avoir</p>
    </header>

    <div class="charts-container">
      <div class="chart-section">
        <h2>Top 10 des Artistes</h2>
        <div class="chart-container">
          <canvas id="artistsChart"></canvas>
        </div>
      </div>
    </div>

    <script>
      const artistsCtx = document.getElementById('artistsChart').getContext('2d');
      const artistsChart = new Chart(artistsCtx, {
        type: 'bar',
        data: {
          labels: ['Pomme', 'Louise Attaque', 'Lennard Kastner', 'Cigarettes After Sex', 'SCIRENA', 'VOILÀ', 'Øneheart', 'Departureskies', 'JONY', 'daniel.mp3'],
          datasets: [{
            label: 'Nombre de morceaux',
            data: [3, 3, 3, 3, 2, 2, 2, 2, 2, 2],
            backgroundColor: '#64B5F6',
            borderColor: '#1E88E5',
            borderWidth: 1
          }]
        },
        options: {
          indexAxis: 'y',
          scales: {
            x: {
              beginAtZero: true,
              grid: {
                display: true,
              },
              ticks: {
                callback: function(value) {
                  if (Number.isInteger(value)) {
                    return value;
                  }
                },
                stepSize: 1
              }
            },
            y: {
              grid: {
                display: true
              }
            }
          },
          plugins: {
            title: {
              display: true,
              text: 'Top 10 des artistes (nombre de morceaux)',
              font: {
                size: 16
              }
            },
            legend: {
              display: false
            }
          },
          responsive: true,
          maintainAspectRatio: false
        }
      });
    </script>

    <div class="chart-container">
      <h2>Distribution des Genres</h2>
      <div class="pie-chart-container">
        <canvas id="genresChart"></canvas>
      </div>
    </div>

    <script>
      const genresCtx = document.getElementById('genresChart').getContext('2d');
      const genresChart = new Chart(genresCtx, {
        type: 'pie',
        data: {
          labels: ['Pop', 'Rock', 'Classic Piano', 'Dream Pop', 'Hip Hop', 'Classic'],
          datasets: [{
            data: [2, 2, 1, 1, 1, 3],
            backgroundColor: [
              '#FFB7C5', // Pop - pink
              '#FFD54F', // Rock - yellow
              '#81C784', // Classic Piano - green
              '#BA68C8', // Dream Pop - purple
              '#FF8A65', // Hip Hop - orange
              '#4DB6AC', // Classic - teal
            ],
            borderColor: 'white',
            borderWidth: 1
          }]
        },
        options: {
          plugins: {
            title: {
              display: true,
              text: 'Distribution des genres musicaux',
              font: {
                size: 16
              }
            },
            legend: {
              position: 'right'
            }
          },
          responsive: true,
          maintainAspectRatio: false
        }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="script/script.js"></script>
  </body>
</html>
